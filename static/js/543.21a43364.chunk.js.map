{"version":3,"file":"static/js/543.21a43364.chunk.js","mappings":"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","sources":["components/Chatbot.js"],"sourcesContent":["// --- Gemini Chatbot Integration ---\nimport React, { useState, useRef, useEffect } from \"react\";\nimport './Chatbot.css';\n\nconst ChatbotIcon = () => (\n  <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"16\" cy=\"16\" r=\"16\" fill=\"#7C3AED\" />\n    <ellipse cx=\"11.5\" cy=\"14\" rx=\"2.5\" ry=\"3\" fill=\"#fff\" />\n    <ellipse cx=\"20.5\" cy=\"14\" rx=\"2.5\" ry=\"3\" fill=\"#fff\" />\n    <ellipse cx=\"16\" cy=\"21\" rx=\"5\" ry=\"2\" fill=\"#fff\" />\n  </svg>\n);\n\nconst ChatMessage = ({ role, text }) => (\n  <div className={`chatbot-message-bubble ${role}`}>\n    {text}\n  </div>\n);\n\nconst ChatForm = ({ onSend, disabled }) => {\n  const inputRef = useRef();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const value = inputRef.current.value.trim();\n    if (!value) return;\n    onSend(value);\n    inputRef.current.value = \"\";\n  };\n  return (\n    <form className=\"chatbot-footer\" onSubmit={handleSubmit}>\n      <input\n        ref={inputRef}\n        type=\"text\"\n        placeholder=\"Type your message...\"\n        disabled={disabled}\n        className=\"chatbot-input\"\n        autoComplete=\"off\"\n      />\n      <button type=\"submit\" disabled={disabled} className=\"chatbot-send-btn\">Send</button>\n    </form>\n  );\n};\n\nconst Chatbot = () => {\n  const [chatHistory, setChatHistory] = useState([\n    { role: \"model\", text: \"Hello! How can I assist you today?\" },\n  ]);\n  const [showChatbot, setShowChatbot] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const chatBodyRef = useRef(null);\n\n  useEffect(() => {\n    if (chatBodyRef.current) {\n      chatBodyRef.current.scrollTo({ top: chatBodyRef.current.scrollHeight, behavior: \"smooth\" });\n    }\n  }, [chatHistory, showChatbot]);\n\n  const handleSend = async (userMessage) => {\n    setChatHistory((prev) => [...prev, { role: \"user\", text: userMessage }]);\n    setLoading(true);\n    setChatHistory((prev) => [...prev, { role: \"model\", text: \"Thinking...\" }]);\n    try {\n      const response = await generateBotResponse([...chatHistory, { role: \"user\", text: userMessage }]);\n      setChatHistory((prev) => [\n        ...prev.slice(0, -1),\n        { role: \"model\", text: response }\n      ]);\n    } catch (err) {\n      setChatHistory((prev) => [\n        ...prev.slice(0, -1),\n        { role: \"model\", text: \"Sorry, I couldn't get a response. Please try again.\" }\n      ]);\n    }\n    setLoading(false);\n  };\n\n  // System prompt to set chatbot personality\n  const systemPrompt = {\n    role: \"user\",\n    parts: [{ text: \"You are TradeconBot, a friendly and helpful AI assistant for the company TRADECON INDUSTRIES which operates in the RGV and South Carolina regions, specializing in construction, property improvement services. Our comprehensive services include renovation, remodeling, restoration, and upcoming single home construction projects. We have a strong track record in talent acquisition, connecting companies with the most suitable candidates. Our overarching goal is to continually provide innovation and excellence, guaranteeing the highest level of client satisfaction. Always answer in a concise, positive, and professional tone.\" }]\n  };\n\n  // Gemini API integration (API key must be set in .env as REACT_APP_API_URL)\n  const generateBotResponse = async (history) => {\n    // Prepend system prompt to chat history\n    const messages = [systemPrompt, ...history.map(msg => ({\n      role: msg.role,\n      parts: [{ text: msg.text }]\n    }))];\n    const apiUrl = process.env.REACT_APP_API_URL;\n    if (!apiUrl) return \"[Missing Gemini API URL. Please set REACT_APP_API_URL in .env]\";\n    try {\n      const res = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ contents: messages }),\n      });\n      const data = await res.json();\n      if (typeof window !== 'undefined' && window.console) {\n        console.log('Gemini API raw response:', data);\n      }\n      const text = data?.candidates?.[0]?.content?.parts?.[0]?.text || data?.candidates?.[0]?.content?.text || \"[No response]\";\n      return text.replace(/\\*/g, \"\").trim();\n    } catch (e) {\n      return \"[Error contacting Gemini API]\";\n    }\n  };\n\n  return (\n    <>\n      {/* Overlay when chatbot is open */}\n      {showChatbot && <div className=\"chatbot-overlay\" onClick={() => setShowChatbot(false)} />}\n      <div className={`chatbot-container${showChatbot ? \" open\" : \"\"}`}>\n        <button\n          className=\"chatbot-toggle-btn\"\n          onClick={() => setShowChatbot((v) => !v)}\n          aria-label=\"Open chatbot\"\n        >\n          <ChatbotIcon />\n        </button>\n        {showChatbot && (\n          <div className=\"chatbot-popup\">\n            {/* Chatbot Header */}\n            <div className=\"chatbot-header\">\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n                <ChatbotIcon />\n                <span style={{ marginLeft: 8, fontWeight: 600 }}>TradeconBot</span>\n              </div>\n              <button\n                onClick={() => setShowChatbot(false)}\n                style={{\n                  background: \"none\",\n                  border: \"none\",\n                  color: \"#fff\",\n                  fontSize: 20,\n                  cursor: \"pointer\"\n                }}\n                aria-label=\"Close chatbot\"\n              >\n                Ã—\n              </button>\n            </div>\n            {/* Chatbot Body */}\n            <div className=\"chatbot-body\" ref={chatBodyRef}>\n              {chatHistory.map((msg, idx) => (\n                <ChatMessage key={idx} role={msg.role} text={msg.text} />\n              ))}\n            </div>\n            {/* Chatbot Footer */}\n            <ChatForm onSend={handleSend} disabled={loading} />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Chatbot;"],"names":["ChatbotIcon","_jsxs","width","height","viewBox","fill","xmlns","children","_jsx","cx","cy","r","rx","ry","ChatMessage","_ref","role","text","className","concat","ChatForm","_ref2","onSend","disabled","inputRef","useRef","onSubmit","e","preventDefault","value","current","trim","ref","type","placeholder","autoComplete","Chatbot","chatHistory","setChatHistory","useState","showChatbot","setShowChatbot","loading","setLoading","chatBodyRef","useEffect","scrollTo","top","scrollHeight","behavior","systemPrompt","parts","generateBotResponse","async","messages","history","map","msg","apiUrl","process","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","_data$candidates2","_data$candidates2$","_data$candidates2$$co","res","fetch","method","headers","body","JSON","stringify","contents","data","json","window","console","log","candidates","content","replace","_Fragment","onClick","v","style","display","alignItems","gap","marginLeft","fontWeight","background","border","color","fontSize","cursor","idx","prev","userMessage","response","slice","err"],"sourceRoot":""}